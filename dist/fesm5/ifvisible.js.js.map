{"version":3,"file":"ifvisible.js.js.map","sources":["ng://ifvisible.js/src/ifvisible.ts","ng://ifvisible.js/index.ts"],"sourcesContent":["const STATUS_ACTIVE = \"active\";\nconst STATUS_IDLE = \"idle\";\nconst STATUS_HIDDEN = \"hidden\";\n\nlet DOC_HIDDEN: string;\nlet VISIBILITY_CHANGE_EVENT: string = void 0;\n\nexport namespace Events {\n    const store = {};\n    let setListener: Function;\n\n    export function attach(event: string, callback: Function) {\n        if (!store[event]) {\n            store[event] = [];\n        }\n        // console.log(\"seko\");\n        store[event].push(callback);\n    }\n\n    export function fire(event: string, args?: any[]) {\n        if (store[event]) {\n            store[event].forEach((callback) => {\n                callback(...args);\n            });\n        }\n    }\n\n    export function remove(event: string, callback: Function) {\n        if (store[event]) {\n            store[event] = store[event].filter((savedCallback) => {\n                return callback !== savedCallback;\n            });\n        }\n    }\n\n    export function dom(element: any, event: string, callback: Function) {\n        if (!setListener) {\n            if (element.addEventListener) {\n                setListener = function (el, ev, fn) {\n                    return el.addEventListener(ev, fn, false);\n                };\n            } else if (typeof element[\"attachEvent\"] === \"function\") {\n                setListener = function (el, ev, fn) {\n                    return el.attachEvent(\"on\" + ev, fn, false);\n                };\n            } else {\n                setListener = function (el, ev, fn) {\n                    return el[\"on\" + ev] = fn;\n                };\n            }\n        }\n        return setListener(element, event, callback);\n    }\n\n}\n\nexport interface IdleInfo {\n    isIdle: boolean;\n    idleFor: number;\n    timeLeft: number;\n    timeLeftPer: number;\n}\n\nexport class Timer {\n    private token: number;\n    stopped: boolean = false;\n\n    constructor(private ifvisible: IfVisible,\n                private seconds: number,\n                private callback: Function) {\n        this.start();\n\n        this.ifvisible.on(\"statusChanged\", (data: any) => {\n            if (this.stopped === false) {\n                if (data.status === STATUS_ACTIVE) {\n                    this.start();\n                } else {\n                    this.pause();\n                }\n            }\n        });\n    }\n\n    private start() {\n        this.stopped = false;\n        clearInterval(this.token);\n        this.token = setInterval(this.callback, this.seconds * 1000);\n    }\n\n    public stop() {\n        this.stopped = true;\n        clearInterval(this.token);\n    }\n\n    public resume() {\n        this.start();\n    }\n\n    public pause() {\n        this.stop();\n    }\n}\n\nexport const IE = (function () {\n    let undef,\n        v = 3,\n        div = document.createElement(\"div\"),\n        all = div.getElementsByTagName(\"i\");\n\n    while (\n        div.innerHTML = \"<!--[if gt IE \" + (++v) + \"]><i></i><![endif]-->\",\n            all[0]\n        );\n\n    return v > 4 ? v : undef;\n}());\n\n\nexport class IfVisible {\n    public status: string = STATUS_ACTIVE;\n    public VERSION: string = '';\n    private timer: any;\n    private idleTime: number = 30000;\n    private idleStartedTime: number;\n\n\n    constructor(private root, private doc) {\n        let BLUR_EVENT = \"blur\";\n        let FOCUS_EVENT = \"focus\";\n\n        // Find correct browser events\n        if (this.doc.hidden !== void 0) {\n            DOC_HIDDEN = \"hidden\";\n            VISIBILITY_CHANGE_EVENT = \"visibilitychange\";\n        } else if (this.doc[\"mozHidden\"] !== void 0) {\n            DOC_HIDDEN = \"mozHidden\";\n            VISIBILITY_CHANGE_EVENT = \"mozvisibilitychange\";\n        } else if (this.doc[\"msHidden\"] !== void 0) {\n            DOC_HIDDEN = \"msHidden\";\n            VISIBILITY_CHANGE_EVENT = \"msvisibilitychange\";\n        } else if (this.doc[\"webkitHidden\"] !== void 0) {\n            DOC_HIDDEN = \"webkitHidden\";\n            VISIBILITY_CHANGE_EVENT = \"webkitvisibilitychange\";\n        }\n\n        if (DOC_HIDDEN === void 0) {\n            if (IE < 9) {\n                BLUR_EVENT = \"focusout\";\n            }\n            Events.dom(this.root, BLUR_EVENT, () => {\n                return this.blur();\n            });\n            Events.dom(this.root, FOCUS_EVENT, () => {\n                return this.focus();\n            });\n        } else {\n            const trackChange = () => {\n                if (this.doc[DOC_HIDDEN]) {\n                    this.blur();\n                } else {\n                    this.focus();\n                }\n            };\n            trackChange(); // get initial status\n            Events.dom(this.doc, VISIBILITY_CHANGE_EVENT, trackChange);\n        }\n        this.startIdleTimer();\n        this.trackIdleStatus();\n    }\n\n    startIdleTimer(event?: Event) {\n        // Prevents Phantom events.\n        // @see https://github.com/serkanyersen/ifvisible.js/pull/37\n        if (event instanceof MouseEvent && event.movementX === 0 && event.movementY === 0) {\n            return;\n        }\n\n        clearTimeout(this.timer);\n\n        if (this.status === STATUS_IDLE) {\n            this.wakeup();\n        }\n\n        this.idleStartedTime = +(new Date());\n        this.timer = setTimeout(() => {\n            if (this.status === STATUS_ACTIVE || this.status === STATUS_HIDDEN) {\n                return this.idle();\n            }\n        }, this.idleTime);\n    }\n\n    trackIdleStatus() {\n        Events.dom(this.doc, \"mousemove\", this.startIdleTimer.bind(this));\n        Events.dom(this.doc, \"mousedown\", this.startIdleTimer.bind(this));\n        Events.dom(this.doc, \"keyup\", this.startIdleTimer.bind(this));\n        Events.dom(this.doc, \"touchstart\", this.startIdleTimer.bind(this));\n        Events.dom(this.root, \"scroll\", this.startIdleTimer.bind(this));\n\n        // this.focus(wakeUp);\n        // this.wakeup(wakeUp);\n    }\n\n    on(event: string, callback: (data: any) => any): IfVisible {\n        Events.attach(event, callback);\n        return this;\n    }\n\n    off(event: string, callback?: any): IfVisible {\n        Events.remove(event, callback);\n        return this;\n    }\n\n    setIdleDuration(seconds: number): IfVisible {\n        this.idleTime = seconds * 1000;\n        this.startIdleTimer();\n        return this;\n    }\n\n    getIdleDuration(): number {\n        return this.idleTime;\n    }\n\n    getIdleInfo(): IdleInfo {\n        let now = +(new Date());\n        let res: IdleInfo;\n        if (this.status === STATUS_IDLE) {\n            res = {\n                isIdle: true,\n                idleFor: now - this.idleStartedTime,\n                timeLeft: 0,\n                timeLeftPer: 100\n            };\n        } else {\n            let timeLeft = (this.idleStartedTime + this.idleTime) - now;\n            res = {\n                isIdle: false,\n                idleFor: now - this.idleStartedTime,\n                timeLeft,\n                timeLeftPer: parseFloat((100 - (timeLeft * 100 / this.idleTime)).toFixed(2))\n            };\n        }\n        return res;\n    }\n\n    idle(callback?: (data: any) => any): IfVisible {\n        if (callback) {\n            this.on(\"idle\", callback);\n        } else {\n            this.status = STATUS_IDLE;\n            Events.fire(\"idle\");\n            Events.fire(\"statusChanged\", [{status: this.status}]);\n        }\n        return this;\n    }\n\n    blur(callback?: (data: any) => any): IfVisible {\n        if (callback) {\n            this.on(\"blur\", callback);\n        } else {\n            this.status = STATUS_HIDDEN;\n            Events.fire(\"blur\");\n            Events.fire(\"statusChanged\", [{status: this.status}]);\n        }\n        return this;\n    }\n\n    focus(callback?: (data: any) => any): IfVisible {\n        if (callback) {\n            this.on(\"focus\", callback);\n        } else if (this.status !== STATUS_ACTIVE) {\n            this.status = STATUS_ACTIVE;\n            Events.fire(\"focus\");\n            Events.fire(\"wakeup\");\n            Events.fire(\"statusChanged\", [{status: this.status}]);\n        }\n        return this;\n    }\n\n    wakeup(callback?: (data: any) => any): IfVisible {\n        if (callback) {\n            this.on(\"wakeup\", callback);\n        } else if (this.status !== STATUS_ACTIVE) {\n            this.status = STATUS_ACTIVE;\n            Events.fire(\"wakeup\");\n            Events.fire(\"statusChanged\", [{status: this.status}]);\n        }\n        return this;\n    }\n\n    onEvery(seconds: number, callback: Function): Timer {\n        return new Timer(this, seconds, callback);\n    }\n\n    now(check?: string): boolean {\n        if (check !== void 0) {\n            return this.status === check;\n        } else {\n            return this.status === STATUS_ACTIVE;\n        }\n    }\n}\n","import { IfVisible } from \"./src/ifvisible\";\n\ndeclare var global: any;\nconst root = typeof self === \"object\" && self.self === self && self ||\n             typeof global === \"object\" && global.global === global && global ||\n             this;\n\nexport const ifvisible = new IfVisible(root, document);\nexport * from \"./src/ifvisible\";"],"names":["this"],"mappings":"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"}
